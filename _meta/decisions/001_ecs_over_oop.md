# 결정 001: OOP 대신 ECS 아키텍처 채택

## 날짜: 2026-02-11
## 상태: 채택

## 맥락
게임 서버를 처음부터 만들면서, AI 에이전트와 협업하기 좋은 구조가 필요.
현업(조선협객전)에서는 OOP 기반 8,000줄+ 클래스를 사용 중이며, AI가 분석할 때 비용이 큼.

## 선택지
1. **OOP** - 검증된 패턴, 대부분의 게임 서버가 사용, 팀 경험 풍부
2. **ECS** - 데이터/로직 완전 분리, 파일이 작음, AI 친화적
3. **함수형** - 이론적으로 우수하지만 게임 서버 실무 사례 부족

## 결정: ECS

### 근거
- AI가 기능 추가 시 분석 범위: OOP 15,000줄 vs ECS 500줄 (10배 차이)
- Component 파일이 20~30줄 → AI 컨텍스트 윈도우에 완전히 들어감
- System 수정 시 영향 범위가 명확 (읽는 Component, 쓰는 Component가 선언됨)
- 새 기능 추가 = Component 파일 + System 파일 생성. 기존 코드 수정 최소

### 트레이드오프
- ECS 경험 있는 게임 개발자가 적음 (OOP가 업계 표준)
- System 실행 순서가 코드에 암시적 → interaction-map.yaml로 해결
- 창발적 복잡성 (System 조합 시 예측 어려움) → interaction-map의 data_flows로 추적

### OOP를 안 고른 이유
- 현업에서 이미 경험함. 새 프로젝트에서 같은 걸 반복할 이유 없음
- AI 에이전트 효율이 10배 차이나면, 개발 속도에 결정적 영향
- OOP의 장점(직관적 모델링)은 프로젝트 규모가 커지면 오히려 단점으로 전환 (God-class)

### 함수형을 안 고른 이유
- 게임 서버에서 함수형 패턴의 성숙한 사례가 부족
- 러닝 커브가 높아 교육 프로젝트에 부적합
- ECS도 데이터 불변성 원칙을 부분적으로 적용 가능
