{
  "source_file": "Components/PacketComponents.h",
  "header": {
    "header_size": 6,
    "max_packet": 8192,
    "byte_order": "little-endian",
    "format": "[length:u32][msg_type:u16][payload:variable]"
  },
  "messages": [
    {
      "name": "ECHO",
      "id": 1,
      "session": 1,
      "direction": "unknown",
      "comment": "에코: 페이로드 그대로 돌려줌",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "PING",
      "id": 2,
      "session": 2,
      "direction": "unknown",
      "comment": "핑: PONG 응답",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "MOVE",
      "id": 10,
      "session": 3,
      "direction": "C2S",
      "comment": "클라이언트→서버: 이동 요청 [x(4) y(4) z(4)]",
      "payload": [
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 12
    },
    {
      "name": "MOVE_BROADCAST",
      "id": 11,
      "session": 3,
      "direction": "S2C",
      "comment": "서버→클라이언트: 타인 이동 알림 [entity(8) x(4) y(4) z(4)]",
      "payload": [
        {
          "name": "entity",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 20
    },
    {
      "name": "POS_QUERY",
      "id": 12,
      "session": 3,
      "direction": "unknown",
      "comment": "내 위치 조회 (테스트용)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "APPEAR",
      "id": 13,
      "session": 4,
      "direction": "S2C",
      "comment": "서버→클라이언트: Entity가 시야에 들어옴 [entity(8) x(4) y(4) z(4)]",
      "payload": [
        {
          "name": "entity",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 20
    },
    {
      "name": "DISAPPEAR",
      "id": 14,
      "session": 4,
      "direction": "S2C",
      "comment": "서버→클라이언트: Entity가 시야에서 사라짐 [entity(8)]",
      "payload": [
        {
          "name": "entity",
          "size": 8,
          "type": "u64"
        }
      ],
      "is_internal": false,
      "payload_size": 8
    },
    {
      "name": "CHANNEL_JOIN",
      "id": 20,
      "session": 5,
      "direction": "C2S",
      "comment": "클라이언트→서버: 채널 입장/변경 [channel_id(4 int)]",
      "payload": [
        {
          "name": "channel_id",
          "size": 4,
          "type": "int"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "CHANNEL_INFO",
      "id": 22,
      "session": 5,
      "direction": "S2C",
      "comment": "서버→클라이언트: 채널 배정 확인 [channel_id(4 int)]",
      "payload": [
        {
          "name": "channel_id",
          "size": 4,
          "type": "int"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "ZONE_ENTER",
      "id": 30,
      "session": 6,
      "direction": "C2S",
      "comment": "클라이언트→서버: 맵 진입/이동 [zone_id(4 int)]",
      "payload": [
        {
          "name": "zone_id",
          "size": 4,
          "type": "int"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "ZONE_INFO",
      "id": 31,
      "session": 6,
      "direction": "S2C",
      "comment": "서버→클라이언트: 맵 배정 확인 [zone_id(4 int)]",
      "payload": [
        {
          "name": "zone_id",
          "size": 4,
          "type": "int"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "HANDOFF_REQUEST",
      "id": 40,
      "session": 7,
      "direction": "C2S",
      "comment": "클라이언트→서버: 핸드오프 요청 (빈 페이로드)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "HANDOFF_DATA",
      "id": 41,
      "session": 7,
      "direction": "S2C",
      "comment": "서버→클라이언트: 직렬화된 Entity 데이터 [serialized bytes]",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "HANDOFF_RESTORE",
      "id": 42,
      "session": 7,
      "direction": "C2S",
      "comment": "클라이언트→서버: 직렬화 데이터로 Entity 복원 [serialized bytes]",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "HANDOFF_RESULT",
      "id": 43,
      "session": 7,
      "direction": "S2C",
      "comment": "서버→클라이언트: 복원 결과 [zone(4) ch(4) x(4) y(4) z(4)]",
      "payload": [
        {
          "name": "zone",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "ch",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 20
    },
    {
      "name": "GHOST_QUERY",
      "id": 50,
      "session": 8,
      "direction": "C2S",
      "comment": "클라이언트→서버: Ghost 수 조회 (빈 페이로드)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "GHOST_INFO",
      "id": 51,
      "session": 8,
      "direction": "S2C",
      "comment": "서버→클라이언트: Ghost 정보 [ghost_count(4 int)]",
      "payload": [
        {
          "name": "ghost_count",
          "size": 4,
          "type": "int"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "LOGIN",
      "id": 60,
      "session": 9,
      "direction": "C2S",
      "comment": "클라이언트→서버: 로그인 [username_len(1) username(N) pw_len(1) pw(N)]",
      "payload": [
        {
          "name": "username_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "username",
          "type": "string",
          "size": "variable"
        },
        {
          "name": "pw_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "pw",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": false
    },
    {
      "name": "LOGIN_RESULT",
      "id": 61,
      "session": 9,
      "direction": "S2C",
      "comment": "서버→클라이언트: 로그인 결과 [result(1) account_id(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "account_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 5
    },
    {
      "name": "CHAR_LIST_REQ",
      "id": 62,
      "session": 9,
      "direction": "C2S",
      "comment": "클라이언트→서버: 캐릭터 목록 요청 (빈 페이로드)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "CHAR_LIST_RESP",
      "id": 63,
      "session": 9,
      "direction": "S2C",
      "comment": "서버→클라이언트: 캐릭터 목록 [count(1) {id(4) name(32) level(4) job(4)}...]",
      "payload": [
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 44,
          "entry_fields": [
            {
              "name": "id",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "name",
              "size": 32,
              "type": "string_fixed(32)"
            },
            {
              "name": "level",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "job",
              "size": 4,
              "type": "u32"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "CHAR_SELECT",
      "id": 64,
      "session": 9,
      "direction": "C2S",
      "comment": "클라이언트→서버: 캐릭터 선택 [char_id(4)]",
      "payload": [
        {
          "name": "char_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "ENTER_GAME",
      "id": 65,
      "session": 9,
      "direction": "S2C",
      "comment": "서버→클라이언트: 게임 진입 결과 [result(1) entity(8) zone(4) x(4) y(4) z(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entity",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "zone",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 25
    },
    {
      "name": "GATE_ROUTE_REQ",
      "id": 70,
      "session": 10,
      "direction": "unknown",
      "comment": "클라이언트→게이트: 게임서버 배정 요청 (빈 페이로드)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "GATE_ROUTE_RESP",
      "id": 71,
      "session": 10,
      "direction": "unknown",
      "comment": "게이트→클라이언트: 서버 배정 [result(1) port(2) ip_len(1) ip(N)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "port",
          "size": 2,
          "type": "u16"
        },
        {
          "name": "ip_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "ip",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": false
    },
    {
      "name": "TIMER_ADD",
      "id": 80,
      "session": 11,
      "direction": "C2S",
      "comment": "C→S: timer_id(4) duration_ms(4) interval_ms(4)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "TIMER_INFO",
      "id": 81,
      "session": 11,
      "direction": "S2C",
      "comment": "S→C: active_timer_count(4) total_events_fired(4)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "CONFIG_QUERY",
      "id": 82,
      "session": 11,
      "direction": "C2S",
      "comment": "C→S: table_name_len(1) table_name(N) key_col(1) key(N)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "CONFIG_RESP",
      "id": 83,
      "session": 11,
      "direction": "S2C",
      "comment": "S→C: found(1) data_len(2) data(N) (CSV row as \"k=v|k=v\")",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "EVENT_SUB_COUNT",
      "id": 84,
      "session": 11,
      "direction": "S2C",
      "comment": "S→C: subscriber_count(4) queue_size(4)",
      "payload": [],
      "is_internal": true,
      "payload_size": 0
    },
    {
      "name": "STAT_QUERY",
      "id": 90,
      "session": 12,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드 → 내 스탯 조회",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "STAT_SYNC",
      "id": 91,
      "session": 12,
      "direction": "S2C",
      "comment": "S→C: level(4) hp(4) max_hp(4) mp(4) max_mp(4) atk(4) def(4) exp(4) exp_next(4) = 36바이트",
      "payload": [],
      "is_internal": false,
      "payload_size": 36
    },
    {
      "name": "STAT_ADD_EXP",
      "id": 92,
      "session": 12,
      "direction": "C2S",
      "comment": "C→S: exp_amount(4) → EXP 추가 (테스트용)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "STAT_TAKE_DMG",
      "id": 93,
      "session": 12,
      "direction": "C2S",
      "comment": "C→S: raw_damage(4) → 데미지 받기 (테스트용)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "STAT_HEAL",
      "id": 94,
      "session": 12,
      "direction": "C2S",
      "comment": "C→S: heal_amount(4) → 힐 (테스트용)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "ATTACK_REQ",
      "id": 100,
      "session": 13,
      "direction": "C2S",
      "comment": "C→S: [target_entity(8)]",
      "payload": [
        {
          "name": "target_entity",
          "size": 8,
          "type": "u64"
        }
      ],
      "is_internal": false,
      "payload_size": 8
    },
    {
      "name": "ATTACK_RESULT",
      "id": 101,
      "session": 13,
      "direction": "S2C",
      "comment": "S→C: [result(1) attacker(8) target(8) damage(4) target_hp(4) target_max_hp(4)] = 29바이트",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "attacker",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "target",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "damage",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "target_hp",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "target_max_hp",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 29
    },
    {
      "name": "COMBAT_DIED",
      "id": 102,
      "session": 13,
      "direction": "S2C",
      "comment": "S→C: [dead_entity(8) killer_entity(8)] = 16바이트",
      "payload": [
        {
          "name": "dead_entity",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "killer_entity",
          "size": 8,
          "type": "u64"
        }
      ],
      "is_internal": false,
      "payload_size": 16
    },
    {
      "name": "RESPAWN_REQ",
      "id": 103,
      "session": 13,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "RESPAWN_RESULT",
      "id": 104,
      "session": 13,
      "direction": "S2C",
      "comment": "S→C: [result(1) hp(4) mp(4) x(4) y(4) z(4)] = 21바이트",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "hp",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "mp",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 21
    },
    {
      "name": "MONSTER_SPAWN",
      "id": 110,
      "session": 14,
      "direction": "S2C",
      "comment": "S→C: [entity(8) monster_id(4) level(4) hp(4) max_hp(4) x(4) y(4) z(4)] = 36바이트",
      "payload": [
        {
          "name": "entity",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "monster_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "level",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "hp",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "max_hp",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 36
    },
    {
      "name": "MONSTER_RESPAWN",
      "id": 113,
      "session": 14,
      "direction": "S2C",
      "comment": "S→C: [entity(8) hp(4) max_hp(4) x(4) y(4) z(4)] = 28바이트",
      "payload": [
        {
          "name": "entity",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "hp",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "max_hp",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 28
    },
    {
      "name": "ZONE_TRANSFER_REQ",
      "id": 120,
      "session": 16,
      "direction": "C2S",
      "comment": "C→S: [target_zone_id(4 int)]",
      "payload": [
        {
          "name": "target_zone_id",
          "size": 4,
          "type": "int"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "ZONE_TRANSFER_RESULT",
      "id": 121,
      "session": 16,
      "direction": "S2C",
      "comment": "S→C: [result(1) zone_id(4) x(4) y(4) z(4)] = 17바이트",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "zone_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 17
    },
    {
      "name": "FIELD_REGISTER",
      "id": 130,
      "session": 17,
      "direction": "server-internal",
      "comment": "Field→Gate: 서버 등록 [port(2) max_ccu(4) name_len(1) name(N)]",
      "payload": [
        {
          "name": "port",
          "size": 2,
          "type": "u16"
        },
        {
          "name": "max_ccu",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "name_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "name",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": false
    },
    {
      "name": "FIELD_HEARTBEAT",
      "id": 131,
      "session": 17,
      "direction": "server-internal",
      "comment": "Field→Gate: 상태 보고 [port(2) ccu(4) max_ccu(4)]",
      "payload": [
        {
          "name": "port",
          "size": 2,
          "type": "u16"
        },
        {
          "name": "ccu",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "max_ccu",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 10
    },
    {
      "name": "FIELD_REGISTER_ACK",
      "id": 132,
      "session": 17,
      "direction": "server-internal",
      "comment": "Gate→Field: 등록 확인 [result(1) server_index(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "server_index",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": true,
      "payload_size": 5
    },
    {
      "name": "GATE_SERVER_LIST",
      "id": 133,
      "session": 17,
      "direction": "C2S",
      "comment": "C→Gate: 서버 목록 요청 (모니터링/테스트용)",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "GATE_SERVER_LIST_RESP",
      "id": 134,
      "session": 17,
      "direction": "server-internal",
      "comment": "Gate→C: [count(1) {port(2) ccu(4) max_ccu(4) status(1)}...]",
      "payload": [
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 11,
          "entry_fields": [
            {
              "name": "port",
              "size": 2,
              "type": "u16"
            },
            {
              "name": "ccu",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "max_ccu",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "status",
              "size": 1,
              "type": "u8"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "BUS_REGISTER",
      "id": 140,
      "session": 18,
      "direction": "server-internal",
      "comment": "Server→Bus: 서버 등록 [name_len(1) name(N)]",
      "payload": [
        {
          "name": "name_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "name",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": true
    },
    {
      "name": "BUS_REGISTER_ACK",
      "id": 141,
      "session": 18,
      "direction": "server-internal",
      "comment": "Bus→Server: 등록 확인 [result(1) server_id(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "server_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": true,
      "payload_size": 5
    },
    {
      "name": "BUS_SUBSCRIBE",
      "id": 142,
      "session": 18,
      "direction": "server-internal",
      "comment": "Server→Bus: 토픽 구독 [topic_len(1) topic(N)]",
      "payload": [
        {
          "name": "topic_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "topic",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": true
    },
    {
      "name": "BUS_SUB_ACK",
      "id": 143,
      "session": 18,
      "direction": "server-internal",
      "comment": "Bus→Server: 구독 확인 [result(1) topic_len(1) topic(N)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "topic_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "topic",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": true
    },
    {
      "name": "BUS_UNSUBSCRIBE",
      "id": 144,
      "session": 18,
      "direction": "server-internal",
      "comment": "Server→Bus: 구독 해제 [topic_len(1) topic(N)]",
      "payload": [
        {
          "name": "topic_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "topic",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": true
    },
    {
      "name": "BUS_PUBLISH",
      "id": 145,
      "session": 18,
      "direction": "server-internal",
      "comment": "Server→Bus: 메시지 발행 [priority(1) topic_len(1) topic(N) data_len(2) data(N)]",
      "payload": [
        {
          "name": "priority",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "topic_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "topic",
          "type": "string",
          "size": "variable"
        },
        {
          "name": "data_len",
          "size": 2,
          "type": "u16"
        },
        {
          "name": "data",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": true
    },
    {
      "name": "BUS_MESSAGE",
      "id": 146,
      "session": 18,
      "direction": "server-internal",
      "comment": "Bus→Server: 메시지 전달 [priority(1) sender_id(4) topic_len(1) topic(N) data_len(2) data(N)]",
      "payload": [
        {
          "name": "priority",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "sender_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "topic_len",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "topic",
          "type": "string",
          "size": "variable"
        },
        {
          "name": "data_len",
          "size": 2,
          "type": "u16"
        },
        {
          "name": "data",
          "type": "string",
          "size": "variable"
        }
      ],
      "is_internal": true
    },
    {
      "name": "SKILL_LIST_REQ",
      "id": 150,
      "session": 19,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드 → 스킬 목록 조회",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "SKILL_LIST_RESP",
      "id": 151,
      "session": 19,
      "direction": "S2C",
      "comment": "S→C: [count(1) {id(4) name(16) cd_ms(4) dmg(4) mp(4) range(4) type(1)}...]",
      "payload": [
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 37,
          "entry_fields": [
            {
              "name": "id",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "name",
              "size": 16,
              "type": "string_fixed(16)"
            },
            {
              "name": "cd_ms",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "dmg",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "mp",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "range",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "type",
              "size": 1,
              "type": "u8"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "SKILL_USE",
      "id": 152,
      "session": 19,
      "direction": "C2S",
      "comment": "C→S: [skill_id(4) target_entity(8)]",
      "payload": [
        {
          "name": "skill_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "target_entity",
          "size": 8,
          "type": "u64"
        }
      ],
      "is_internal": false,
      "payload_size": 12
    },
    {
      "name": "SKILL_RESULT",
      "id": 153,
      "session": 19,
      "direction": "S2C",
      "comment": "S→C: [result(1) skill_id(4) caster(8) target(8) damage(4) target_hp(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "skill_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "caster",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "target",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "damage",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "target_hp",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 29
    },
    {
      "name": "PARTY_CREATE",
      "id": 160,
      "session": 20,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "PARTY_INVITE",
      "id": 161,
      "session": 20,
      "direction": "C2S",
      "comment": "C→S: [target_entity(8)]",
      "payload": [
        {
          "name": "target_entity",
          "size": 8,
          "type": "u64"
        }
      ],
      "is_internal": false,
      "payload_size": 8
    },
    {
      "name": "PARTY_ACCEPT",
      "id": 162,
      "session": 20,
      "direction": "C2S",
      "comment": "C→S: [party_id(4)]",
      "payload": [
        {
          "name": "party_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "PARTY_LEAVE",
      "id": 163,
      "session": 20,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "PARTY_INFO",
      "id": 164,
      "session": 20,
      "direction": "S2C",
      "comment": "S→C: [result(1) party_id(4) leader(8) count(1) {entity(8) level(4)}...]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "party_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "leader",
          "size": 8,
          "type": "u64"
        },
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 12,
          "entry_fields": [
            {
              "name": "entity",
              "size": 8,
              "type": "u64"
            },
            {
              "name": "level",
              "size": 4,
              "type": "u32"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "PARTY_KICK",
      "id": 165,
      "session": 20,
      "direction": "C2S",
      "comment": "C→S: [target_entity(8)]",
      "payload": [
        {
          "name": "target_entity",
          "size": 8,
          "type": "u64"
        }
      ],
      "is_internal": false,
      "payload_size": 8
    },
    {
      "name": "INSTANCE_CREATE",
      "id": 170,
      "session": 21,
      "direction": "C2S",
      "comment": "C→S: [dungeon_type(4)]",
      "payload": [
        {
          "name": "dungeon_type",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "INSTANCE_ENTER",
      "id": 171,
      "session": 21,
      "direction": "S2C",
      "comment": "S→C: [result(1) instance_id(4) dungeon_type(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "instance_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "dungeon_type",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 9
    },
    {
      "name": "INSTANCE_LEAVE",
      "id": 172,
      "session": 21,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "INSTANCE_LEAVE_RESULT",
      "id": 173,
      "session": 21,
      "direction": "S2C",
      "comment": "S→C: [result(1) zone_id(4) x(4) y(4) z(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "zone_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 17
    },
    {
      "name": "INSTANCE_INFO",
      "id": 174,
      "session": 21,
      "direction": "S2C",
      "comment": "S→C: [instance_id(4) dungeon_type(4) player_count(1) monster_count(1)]",
      "payload": [
        {
          "name": "instance_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "dungeon_type",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "player_count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "monster_count",
          "size": 1,
          "type": "u8"
        }
      ],
      "is_internal": false,
      "payload_size": 10
    },
    {
      "name": "MATCH_ENQUEUE",
      "id": 180,
      "session": 22,
      "direction": "C2S",
      "comment": "C→S: [dungeon_type(4)]",
      "payload": [
        {
          "name": "dungeon_type",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "MATCH_DEQUEUE",
      "id": 181,
      "session": 22,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "MATCH_FOUND",
      "id": 182,
      "session": 22,
      "direction": "S2C",
      "comment": "S→C: [match_id(4) dungeon_type(4) player_count(1)]",
      "payload": [
        {
          "name": "match_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "dungeon_type",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "player_count",
          "size": 1,
          "type": "u8"
        }
      ],
      "is_internal": false,
      "payload_size": 9
    },
    {
      "name": "MATCH_ACCEPT",
      "id": 183,
      "session": 22,
      "direction": "C2S",
      "comment": "C→S: [match_id(4)]",
      "payload": [
        {
          "name": "match_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "MATCH_STATUS",
      "id": 184,
      "session": 22,
      "direction": "S2C",
      "comment": "S→C: [status(1) queue_position(4)]",
      "payload": [
        {
          "name": "status",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "queue_position",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 5
    },
    {
      "name": "INVENTORY_REQ",
      "id": 190,
      "session": 23,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "INVENTORY_RESP",
      "id": 191,
      "session": 23,
      "direction": "S2C",
      "comment": "S→C: [count(1) {slot(1) item_id(4) count(2) equipped(1)}...]",
      "payload": [
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 8,
          "entry_fields": [
            {
              "name": "slot",
              "size": 1,
              "type": "u8"
            },
            {
              "name": "item_id",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "count",
              "size": 2,
              "type": "u16"
            },
            {
              "name": "equipped",
              "size": 1,
              "type": "u8"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "ITEM_ADD",
      "id": 192,
      "session": 23,
      "direction": "C2S",
      "comment": "C→S: [item_id(4) count(2)] (테스트용)",
      "payload": [
        {
          "name": "item_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "count",
          "size": 2,
          "type": "u16"
        }
      ],
      "is_internal": false,
      "payload_size": 6
    },
    {
      "name": "ITEM_ADD_RESULT",
      "id": 193,
      "session": 23,
      "direction": "S2C",
      "comment": "S→C: [result(1) slot(1) item_id(4) count(2)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "slot",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "item_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "count",
          "size": 2,
          "type": "u16"
        }
      ],
      "is_internal": false,
      "payload_size": 8
    },
    {
      "name": "ITEM_USE",
      "id": 194,
      "session": 23,
      "direction": "C2S",
      "comment": "C→S: [slot(1)]",
      "payload": [
        {
          "name": "slot",
          "size": 1,
          "type": "u8"
        }
      ],
      "is_internal": false,
      "payload_size": 1
    },
    {
      "name": "ITEM_USE_RESULT",
      "id": 195,
      "session": 23,
      "direction": "S2C",
      "comment": "S→C: [result(1) slot(1) item_id(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "slot",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "item_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 6
    },
    {
      "name": "ITEM_EQUIP",
      "id": 196,
      "session": 23,
      "direction": "C2S",
      "comment": "C→S: [slot(1)]",
      "payload": [
        {
          "name": "slot",
          "size": 1,
          "type": "u8"
        }
      ],
      "is_internal": false,
      "payload_size": 1
    },
    {
      "name": "ITEM_UNEQUIP",
      "id": 197,
      "session": 23,
      "direction": "C2S",
      "comment": "C→S: [slot(1)]",
      "payload": [
        {
          "name": "slot",
          "size": 1,
          "type": "u8"
        }
      ],
      "is_internal": false,
      "payload_size": 1
    },
    {
      "name": "ITEM_EQUIP_RESULT",
      "id": 198,
      "session": 23,
      "direction": "S2C",
      "comment": "S→C: [result(1) slot(1) item_id(4) equipped(1)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "slot",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "item_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "equipped",
          "size": 1,
          "type": "u8"
        }
      ],
      "is_internal": false,
      "payload_size": 7
    },
    {
      "name": "BUFF_LIST_REQ",
      "id": 200,
      "session": 24,
      "direction": "C2S",
      "comment": "C→S: 빈 페이로드",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "BUFF_LIST_RESP",
      "id": 201,
      "session": 24,
      "direction": "S2C",
      "comment": "S→C: [count(1) {buff_id(4) remaining_ms(4) stacks(1)}...]",
      "payload": [
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 9,
          "entry_fields": [
            {
              "name": "buff_id",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "remaining_ms",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "stacks",
              "size": 1,
              "type": "u8"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "BUFF_APPLY_REQ",
      "id": 202,
      "session": 24,
      "direction": "C2S",
      "comment": "C→S: [buff_id(4)] (테스트용)",
      "payload": [
        {
          "name": "buff_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "BUFF_RESULT",
      "id": 203,
      "session": 24,
      "direction": "S2C",
      "comment": "S→C: [result(1) buff_id(4) stacks(1) duration_ms(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "buff_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "stacks",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "duration_ms",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 10
    },
    {
      "name": "BUFF_REMOVE_REQ",
      "id": 204,
      "session": 24,
      "direction": "C2S",
      "comment": "C→S: [buff_id(4)]",
      "payload": [
        {
          "name": "buff_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "BUFF_REMOVE_RESP",
      "id": 205,
      "session": 24,
      "direction": "S2C",
      "comment": "S→C: [result(1) buff_id(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "buff_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 5
    },
    {
      "name": "CONDITION_EVAL",
      "id": 210,
      "session": 25,
      "direction": "C2S",
      "comment": "C→S: [node_count(1) root(1) {type(1) p1(4) p2(4) left(2) right(2)}...]",
      "payload": [
        {
          "name": "node_count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "root",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "root",
          "entry_size": 13,
          "entry_fields": [
            {
              "name": "type",
              "size": 1,
              "type": "u8"
            },
            {
              "name": "p1",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "p2",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "left",
              "size": 2,
              "type": "u16"
            },
            {
              "name": "right",
              "size": 2,
              "type": "u16"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "CONDITION_RESULT",
      "id": 211,
      "session": 25,
      "direction": "S2C",
      "comment": "S→C: [result(1)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        }
      ],
      "is_internal": false,
      "payload_size": 1
    },
    {
      "name": "SPATIAL_QUERY_REQ",
      "id": 215,
      "session": 26,
      "direction": "C2S",
      "comment": "C→S: [x(4) y(4) z(4) radius(4) filter(1)] filter: 0=all,1=player,2=monster",
      "payload": [
        {
          "name": "x",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "y",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "z",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "radius",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "filter",
          "size": 1,
          "type": "u8"
        }
      ],
      "is_internal": false,
      "payload_size": 17
    },
    {
      "name": "SPATIAL_QUERY_RESP",
      "id": 216,
      "session": 26,
      "direction": "S2C",
      "comment": "S→C: [count(1) {entity(8) dist(4)}...]",
      "payload": [
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 12,
          "entry_fields": [
            {
              "name": "entity",
              "size": 8,
              "type": "u64"
            },
            {
              "name": "dist",
              "size": 4,
              "type": "u32"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "LOOT_ROLL_REQ",
      "id": 220,
      "session": 27,
      "direction": "C2S",
      "comment": "C→S: [table_id(4)]",
      "payload": [
        {
          "name": "table_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "LOOT_RESULT",
      "id": 221,
      "session": 27,
      "direction": "S2C",
      "comment": "S→C: [count(1) {item_id(4) count(2)}...]",
      "payload": [
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 6,
          "entry_fields": [
            {
              "name": "item_id",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "count",
              "size": 2,
              "type": "u16"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "QUEST_LIST_REQ",
      "id": 230,
      "session": 28,
      "direction": "C2S",
      "comment": "C→S: empty",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    },
    {
      "name": "QUEST_LIST_RESP",
      "id": 231,
      "session": 28,
      "direction": "S2C",
      "comment": "S→C: [count(1) {quest_id(4) state(1) progress(4) target(4)}...]",
      "payload": [
        {
          "name": "count",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "entries",
          "type": "array",
          "count_field": "count",
          "entry_size": 13,
          "entry_fields": [
            {
              "name": "quest_id",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "state",
              "size": 1,
              "type": "u8"
            },
            {
              "name": "progress",
              "size": 4,
              "type": "u32"
            },
            {
              "name": "target",
              "size": 4,
              "type": "u32"
            }
          ]
        }
      ],
      "is_internal": false
    },
    {
      "name": "QUEST_ACCEPT",
      "id": 232,
      "session": 28,
      "direction": "C2S",
      "comment": "C→S: [quest_id(4)]",
      "payload": [
        {
          "name": "quest_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "QUEST_ACCEPT_RESULT",
      "id": 233,
      "session": 28,
      "direction": "S2C",
      "comment": "S→C: [result(1) quest_id(4)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "quest_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 5
    },
    {
      "name": "QUEST_PROGRESS",
      "id": 234,
      "session": 28,
      "direction": "C2S",
      "comment": "C→S: [quest_id(4)] (check/update progress)",
      "payload": [
        {
          "name": "quest_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "QUEST_COMPLETE",
      "id": 235,
      "session": 28,
      "direction": "C2S",
      "comment": "C→S: [quest_id(4)]",
      "payload": [
        {
          "name": "quest_id",
          "size": 4,
          "type": "u32"
        }
      ],
      "is_internal": false,
      "payload_size": 4
    },
    {
      "name": "QUEST_COMPLETE_RESULT",
      "id": 236,
      "session": 28,
      "direction": "S2C",
      "comment": "S→C: [result(1) quest_id(4) reward_exp(4) reward_item_id(4) reward_item_count(2)]",
      "payload": [
        {
          "name": "result",
          "size": 1,
          "type": "u8"
        },
        {
          "name": "quest_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "reward_exp",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "reward_item_id",
          "size": 4,
          "type": "u32"
        },
        {
          "name": "reward_item_count",
          "size": 2,
          "type": "u16"
        }
      ],
      "is_internal": false,
      "payload_size": 15
    },
    {
      "name": "STATS",
      "id": 99,
      "session": 28,
      "direction": "unknown",
      "comment": "내부 진단",
      "payload": [],
      "is_internal": false,
      "payload_size": 0
    }
  ],
  "message_count": 105,
  "client_facing_count": 96,
  "server_internal_count": 9,
  "server_internal_names": [
    "EVENT_SUB_COUNT",
    "FIELD_REGISTER_ACK",
    "BUS_REGISTER",
    "BUS_REGISTER_ACK",
    "BUS_SUBSCRIBE",
    "BUS_SUB_ACK",
    "BUS_UNSUBSCRIBE",
    "BUS_PUBLISH",
    "BUS_MESSAGE"
  ]
}