# Design ↔ Server Contract
# 기획/밸런스 에이전트와 서버 간 데이터 포맷 계약

contract:
  name: design_server_data_format
  version: "1.0"
  parties: [design-agent, server-agent]
  status: draft

# 데이터 파일 소유권
data_files:
  monster_ai.json:
    owner: design-agent
    consumer: server-agent
    location: "data/monster_ai.json"
    hot_reload: true
    description: "몬스터 AI 상수 (이동속도, 어그로 범위 등)"

  movement_rules.json:
    owner: design-agent
    consumer: server-agent
    location: "data/movement_rules.json"
    hot_reload: true
    description: "이동 검증 상수 (기본 속도, 스프린트 배수 등)"

  monster_spawns.csv:
    owner: design-agent
    consumer: server-agent
    location: "data/monster_spawns.csv"
    hot_reload: true
    description: "몬스터 스폰 테이블"

  zone_bounds.csv:
    owner: design-agent
    consumer: server-agent
    location: "data/zone_bounds.csv"
    hot_reload: true
    description: "존 경계 데이터"

  server.json:
    owner: server-agent
    consumer: server-agent
    location: "data/server.json"
    hot_reload: true
    description: "서버 설정 (tick_rate, max_players 등)"

# 변경 프로세스:
# 1. design-agent가 data/*.json 또는 data/*.csv 수정
# 2. server-agent mailbox에 변경 통보 메시지 전송
# 3. server-agent가 GameConfig 반영 확인
# 4. ADMIN_RELOAD로 런타임 적용 (또는 서버 재시작)
# 5. 필요 시 qa-agent에 테스트 요청

# 데이터 포맷 규칙:
# - JSON: UTF-8, 들여쓰기 2칸
# - CSV: UTF-8, 헤더 행 필수, 구분자 ','
# - 새 필드 추가 시 서버와 협의 필수 (GameConfig 수정 필요)
