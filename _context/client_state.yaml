# ============================================================
# Client Agent 영속 상태 — 세션 간 컨텍스트 유지용
# agent_loop.py가 Claude 실행 시 이 파일을 강제 주입
# 매 작업 완료 후 Claude가 이 파일을 업데이트
# ============================================================

agent: client
project_root: "C:\\Users\\명승호\\Desktop\\ECS"
last_session: "2026-02-15T14:00:00"

# ── 현재 상태 ──
current_status: "GDD 100% 마일스톤 완료 — S058 확인 + 다음 단계 대표님 Q002 결정 대기 | 115 PASS 0 FAIL"

# ── 완료된 작업 ──
completed:
  - id: A1
    desc: "TPS 숄더캠 (LocalPlayer.cs 전면 리라이트)"
    files: ["Assets/Scripts/Entity/LocalPlayer.cs"]
  - id: A2
    desc: "몬스터 월드 UI (MonsterWorldUI.cs + MonsterManager 연동)"
    files: ["Assets/Scripts/UI/MonsterWorldUI.cs", "Assets/Scripts/Managers/MonsterManager.cs"]
  - id: A3
    desc: "크로스헤어 (HUDManager.cs + ProjectSetup.cs)"
    files: ["Assets/Scripts/UI/HUDManager.cs", "Assets/Editor/ProjectSetup.cs"]
  - id: A4
    desc: "키바인드 가이드 (KeybindGuideUI.cs + ProjectSetup.cs)"
    files: ["Assets/Scripts/UI/KeybindGuideUI.cs"]
  - id: A5
    desc: "자동 퀘스트 수락 (GameBootstrap.cs)"
    files: ["Assets/Scripts/GameBootstrap.cs"]
  - id: A6
    desc: "환경 개선 (포그/앰비언트/바닥색)"
    files: ["Assets/Editor/ProjectSetup.cs"]
  - id: C016
    desc: "GDD 21개 파일 교차 검증 + 에이전트 파이프라인 제안 메시지"
    files: ["_comms/client_to_server/C016_gdd_review_and_agent_pipeline_proposal.md"]
  - id: C017
    desc: "Agent Loop 자율 시스템 구축 + 서버 세팅 가이드"
    files: ["_agent/agent_loop.py", "_agent/README.md", "_context/server_state_template.yaml", "_context/ask_user.yaml", "_comms/client_to_server/C017_agent_loop_system_ready.md"]
  - id: A7
    desc: "카메라 TPS→쿼터뷰 전환 (대표님 지시, camera.yaml 기반)"
    files: ["Assets/Scripts/Entity/LocalPlayer.cs"]
  - id: A8
    desc: "HUD ui.yaml 기반 리뉴얼 + 크로스헤어 제거"
    files: ["Assets/Scripts/UI/HUDManager.cs", "Assets/Editor/ProjectSetup.cs", "Assets/Scripts/UI/KeybindGuideUI.cs"]
  - id: C018
    desc: "S031 응답 — 카메라 전환 + HUD 리뉴얼 완료 보고"
    files: ["_comms/client_to_server/C018_s031_response_camera_converted_hud_renewed.md"]
  - id: A9
    desc: "animation.yaml 기반 Animator 확장 — 콤보4단/대시/피격/스킬/전투 상태"
    files: ["Assets/Editor/ProjectSetup.cs", "Assets/Scripts/Entity/LocalPlayer.cs", "Assets/Scripts/Entity/MonsterEntity.cs", "Assets/Scripts/Entity/RemotePlayer.cs", "Assets/Scripts/Managers/MonsterManager.cs"]
  - id: A10
    desc: "vfx.yaml 기반 HitVFXManager — 파티클 오브젝트 풀 (일반/크리티컬)"
    files: ["Assets/Scripts/Managers/HitVFXManager.cs", "Assets/Editor/ProjectSetup.cs", "Assets/Scripts/interaction-map.yaml"]
  - id: A11
    desc: "art_style.yaml 기반 URP 라이팅/포스트프로세싱 (포그/앰비언트/디렉셔널/볼륨)"
    files: ["Assets/Editor/ProjectSetup.cs"]
  - id: A12
    desc: "SceneFlowManager 구현 (P0_S01_C02) — 씬 전환 싱글톤 + 페이드 트랜지션"
    files: ["Assets/Scripts/Managers/SceneFlowManager.cs", "Assets/Editor/ProjectSetup.cs", "Assets/Editor/SceneValidator.cs", "Assets/Scripts/interaction-map.yaml"]
  - id: A13
    desc: "S033/S034 패킷 연동 — 서버선택/캐릭터CRUD/튜토리얼/NPC대화/강화"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/NpcManager.cs"
      - "Assets/Scripts/Managers/EnhanceManager.cs"
      - "Assets/Scripts/Managers/TutorialManager.cs"
      - "Assets/Scripts/UI/NpcDialogUI.cs"
      - "Assets/Scripts/UI/EnhanceUI.cs"
      - "Assets/Scripts/UI/ServerSelectUI.cs"
      - "Assets/Scripts/UI/CharacterSelectUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
  - id: A14
    desc: "S029 문파/거래/우편 패킷 연동 — Guild(290-299)/Trade(300-307)/Mail(310-318)"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/GuildManager.cs"
      - "Assets/Scripts/Managers/TradeManager.cs"
      - "Assets/Scripts/Managers/MailManager.cs"
      - "Assets/Scripts/UI/GuildUI.cs"
      - "Assets/Scripts/UI/TradeUI.cs"
      - "Assets/Scripts/UI/MailUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
  - id: A15
    desc: "Phase 2 TCP 브릿지 연동 테스트 — 20/20 PASS"
    files:
      - "UnityClient/GameClient/test_tcp_bridge_client.py"
  - id: A16
    desc: "Phase 3 던전/PvP 매니저+UI — DungeonManager/PvPManager + DungeonUI/PvPUI"
    files:
      - "Assets/Scripts/Managers/DungeonManager.cs"
      - "Assets/Scripts/Managers/PvPManager.cs"
      - "Assets/Scripts/UI/DungeonUI.cs"
      - "Assets/Scripts/UI/PvPUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_tcp_bridge_client.py"
  - id: A17
    desc: "S040 Phase 3 브릿지 연동 테스트 25/25 ALL PASS + MATCH_ENQUEUE 테스트 수정"
    files:
      - "UnityClient/GameClient/test_tcp_bridge_client.py"
  - id: A18
    desc: "S041 Phase 4 Batch 1 — CraftingManager/GatheringManager/GemManager + UI 3종 + 패킷 16종(380-389,450-453)"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/CraftingManager.cs"
      - "Assets/Scripts/Managers/GatheringManager.cs"
      - "Assets/Scripts/Managers/GemManager.cs"
      - "Assets/Scripts/UI/CraftingUI.cs"
      - "Assets/Scripts/UI/GatheringUI.cs"
      - "Assets/Scripts/UI/GemUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase4_crafting_tcp.py"
  - id: A19
    desc: "S042 Phase 5 — 7매니저(CashShop/BattlePass/Weather/Teleport/Mount/Attendance/Story) + 7UI + 패킷44종(474-517) + TCP테스트25건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/CashShopManager.cs"
      - "Assets/Scripts/Managers/BattlePassManager.cs"
      - "Assets/Scripts/Managers/WeatherManager.cs"
      - "Assets/Scripts/Managers/TeleportManager.cs"
      - "Assets/Scripts/Managers/MountManager.cs"
      - "Assets/Scripts/Managers/AttendanceManager.cs"
      - "Assets/Scripts/Managers/StoryManager.cs"
      - "Assets/Scripts/UI/CashShopUI.cs"
      - "Assets/Scripts/UI/BattlePassUI.cs"
      - "Assets/Scripts/UI/TeleportUI.cs"
      - "Assets/Scripts/UI/MountUI.cs"
      - "Assets/Scripts/UI/AttendanceUI.cs"
      - "Assets/Scripts/UI/ContentUnlockUI.cs"
      - "Assets/Scripts/UI/StoryUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase5_world_tcp.py"
  - id: A20
    desc: "S045 Phase 6 거래소 — AuctionManager + AuctionUI + 패킷 8종(390-397) + TCP 테스트 8건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/AuctionManager.cs"
      - "Assets/Scripts/UI/AuctionUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase6_auction_tcp.py"
  - id: A21
    desc: "S046 Phase 7 비급&트라이포드 — TripodManager + TripodUI + 패킷 5종(520-524) + TCP 테스트 8건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/TripodManager.cs"
      - "Assets/Scripts/UI/TripodUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase7_tripod_tcp.py"
  - id: A22
    desc: "S047 Phase 8 현상금 시스템 — BountyManager + BountyUI + 패킷 8종(530-537) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/BountyManager.cs"
      - "Assets/Scripts/UI/BountyUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase8_bounty_tcp.py"
  - id: A23
    desc: "S048 Phase 9 퀘스트 심화 — DailyQuestManager + ReputationManager + DailyQuestUI + ReputationUI + 패킷 6종(400-405) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/DailyQuestManager.cs"
      - "Assets/Scripts/Managers/ReputationManager.cs"
      - "Assets/Scripts/UI/DailyQuestUI.cs"
      - "Assets/Scripts/UI/ReputationUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase9_quest_tcp.py"
  - id: A24
    desc: "S049 Phase 10 칭호/도감/2차전직 — TitleManager + CollectionManager + JobChangeUI + TitleUI + CollectionUI + 패킷 8종(440-447) + TCP 테스트 12건 + S047 BuildPacket 버그 수정"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/TitleManager.cs"
      - "Assets/Scripts/Managers/CollectionManager.cs"
      - "Assets/Scripts/UI/TitleUI.cs"
      - "Assets/Scripts/UI/CollectionUI.cs"
      - "Assets/Scripts/UI/JobChangeUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase10_progression_tcp.py"
      - "UnityClient/GameClient/validate_client.py"
  - id: A25
    desc: "S050 Phase 11 각인/초월 — EngravingManager + EngravingUI + TranscendUI + 패킷 6종(454-459) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/EngravingManager.cs"
      - "Assets/Scripts/UI/EngravingUI.cs"
      - "Assets/Scripts/UI/TranscendUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase11_engraving_tcp.py"
  - id: A26
    desc: "S051 Phase 12 소셜 심화 — FriendManager + BlockManager + PartyFinderManager + FriendUI + BlockUI + PartyFinderUI + 패킷 13종(410-422) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/FriendManager.cs"
      - "Assets/Scripts/Managers/BlockManager.cs"
      - "Assets/Scripts/Managers/PartyFinderManager.cs"
      - "Assets/Scripts/UI/FriendUI.cs"
      - "Assets/Scripts/UI/BlockUI.cs"
      - "Assets/Scripts/UI/PartyFinderUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase12_social_tcp.py"
  - id: A27
    desc: "S052 Phase 13 내구도/수리/리롤 — DurabilityManager + RepairUI + RerollUI + 패킷 6종(462-467) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/DurabilityManager.cs"
      - "Assets/Scripts/UI/RepairUI.cs"
      - "Assets/Scripts/UI/RerollUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase13_durability_tcp.py"
  - id: A28
    desc: "S053 Phase 14 전장/길드전/PvP시즌 — BattlegroundManager + GuildWarManager + BattlegroundUI + GuildWarUI + 패킷 6종(430-435) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/BattlegroundManager.cs"
      - "Assets/Scripts/Managers/GuildWarManager.cs"
      - "Assets/Scripts/UI/BattlegroundUI.cs"
      - "Assets/Scripts/UI/GuildWarUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase14_battleground_tcp.py"
  - id: A29
    desc: "S054 Phase 15 보조화폐/토큰상점 — CurrencyManager + CurrencyUI + TokenShopUI + 패킷 6종(468-473) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/CurrencyManager.cs"
      - "Assets/Scripts/UI/CurrencyUI.cs"
      - "Assets/Scripts/UI/TokenShopUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase15_currency_tcp.py"
  - id: A30
    desc: "S055 Phase 16 비경 탐험 — SecretRealmManager + SecretRealmPortalUI + SecretRealmUI + 패킷 5종(540-544) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/SecretRealmManager.cs"
      - "Assets/Scripts/UI/SecretRealmPortalUI.cs"
      - "Assets/Scripts/UI/SecretRealmUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase16_secret_realm_tcp.py"
  - id: A31
    desc: "S056 Phase 17 사제 시스템 — MentorManager + MentorUI + MentorShopUI + 패킷 11종(550-560) + TCP 테스트 10건"
    files:
      - "Assets/Scripts/Network/PacketDefinitions.cs"
      - "Assets/Scripts/Network/PacketBuilder.cs"
      - "Assets/Scripts/Network/NetworkManager.cs"
      - "Assets/Scripts/Managers/MentorManager.cs"
      - "Assets/Scripts/UI/MentorUI.cs"
      - "Assets/Scripts/UI/MentorShopUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase17_mentor_tcp.py"
  - id: A32
    desc: "S057 GDD 100% 검증 — StoryUI 이벤트 버그 수정 + EventManager/EventUI 등록 + interaction-map 동기화 + TCP 테스트 22건"
    files:
      - "Assets/Scripts/UI/StoryUI.cs"
      - "Assets/Scripts/Managers/EventManager.cs"
      - "Assets/Scripts/UI/EventUI.cs"
      - "Assets/Editor/ProjectSetup.cs"
      - "Assets/Editor/SceneValidator.cs"
      - "Assets/Scripts/interaction-map.yaml"
      - "UnityClient/GameClient/test_phase18_s057_tcp.py"

# ── 대기 중 (서버 응답 필요) ──
blocked:
  - "Q002 대표님 다음 단계 방향 결정 대기"

# ── 다음 할 일 (blocked 아닌 것부터) ──
pending_tasks:
  - id: "phase3_raid_ui"
    desc: "레이드 전용 UI — 레이드 보스 페이즈/기믹 가이드 패널"
    priority: P2
    blocked: true
    blocked_reason: "대표님 Q002 방향 결정 대기"
  - id: "unity_play_integration"
    desc: "Unity Play 모드 실연동 — ConnectionTest.cs 전체 시퀀스 자동화"
    priority: P2
    blocked: true
    blocked_reason: "대표님 Q002 방향 결정 대기"
  - id: "next_sprint_direction"
    desc: "다음 스프린트 방향 결정 — Q002 대표님 응답 후 착수"
    priority: P0
    blocked: true
    blocked_reason: "대표님 Q002 응답 대기"
  - id: "gdd_task2_crafting_ui"
    desc: "제작/채집 UI — CraftingUI + GatheringUI (서버 TASK 2 MsgType 380-389)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A18)"
    status: done
  - id: "gdd_task8_gem_ui"
    desc: "보석 UI — GemUI (서버 TASK 8 MsgType 450-453)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A18)"
    status: done
  - id: "gdd_task11_cashshop_ui"
    desc: "캐시샵/배틀패스/이벤트 UI — CashShopUI + BattlePassUI (서버 TASK 11 MsgType 474-489)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A19)"
    status: done
  - id: "gdd_task12_world_ui"
    desc: "월드 시스템 UI — WeatherManager + TeleportUI + MountUI (서버 TASK 12 MsgType 490-501)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A19)"
    status: done
  - id: "gdd_task13_attendance_ui"
    desc: "출석/리셋/컨텐츠해금 UI — AttendanceUI + ContentUnlockUI (서버 TASK 13 MsgType 502-509)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A19)"
    status: done
  - id: "gdd_task14_story_ui"
    desc: "스토리/대화 UI — StoryUI (서버 TASK 14 MsgType 510-517)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A19)"
    status: done
  - id: "gdd_task3_auction_ui"
    desc: "거래소 UI — AuctionUI (서버 TASK 3 MsgType 390-397)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A20)"
    status: done
  - id: "gdd_task15_secret_technique_ui"
    desc: "비급&트라이포드 UI — TripodManager + TripodUI (서버 TASK 15 MsgType 520-524)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A21)"
    status: done
  - id: "gdd_task10_currency_ui"
    desc: "화폐/재화 UI — CurrencyManager + CurrencyUI + TokenShopUI (서버 TASK 10 MsgType 468-473)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A29)"
    status: done
  - id: "gdd_task4_daily_quest_ui"
    desc: "일일/주간 퀘스트 UI — DailyQuestUI + ReputationUI (서버 TASK 4 MsgType 400-405)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A23)"
    status: done
  - id: "gdd_task7_progression_ui"
    desc: "칭호/도감 UI — TitleUI + CollectionUI + JobChangeUI (서버 TASK 7 MsgType 440-447)"
    priority: P2
    blocked: false
    blocked_reason: "완료 (A24)"
    status: done
  - id: "gdd_task9_durability_ui"
    desc: "내구도 UI — DurabilityManager + RepairUI + RerollUI (서버 TASK 9 MsgType 462-467)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A27)"
    status: done
  - id: "gdd_task5_social_ui"
    desc: "소셜 UI — FriendUI + BlockUI + PartyFinderUI (서버 TASK 5 MsgType 410-422)"
    priority: P2
    blocked: false
    blocked_reason: "완료 (A26)"
    status: done
  - id: "gdd_task6_pvp_extended_ui"
    desc: "전장/길드전 UI — BattlegroundUI + GuildWarUI (서버 TASK 6 MsgType 430-435)"
    priority: P2
    blocked: false
    blocked_reason: "완료 (A28)"
    status: done
  - id: "gdd_task16_bounty_ui"
    desc: "현상금 UI — BountyManager + BountyUI (서버 TASK 16 MsgType 530-537)"
    priority: P1
    blocked: false
    blocked_reason: "완료 (A22)"
    status: done
  - id: "gdd_task17_secret_dungeon_ui"
    desc: "비경 UI — SecretRealmManager + SecretRealmPortalUI + SecretRealmUI (서버 TASK 17 MsgType 540-544)"
    priority: P2
    blocked: false
    blocked_reason: "완료 (A30)"
    status: done
  - id: "gdd_task18_mentor_ui"
    desc: "사제 시스템 UI — MentorManager + MentorUI + MentorShopUI (서버 TASK 18 MsgType 550-560)"
    priority: P2
    blocked: false
    blocked_reason: "완료 (A31)"
    status: done

# ── 최근 중요 결정 ──
recent_decisions:
  - "대표님 직접 지시: 카메라 탑다운 쿼터뷰 확정 (로아 스타일)"
  - "TPS 숄더캠 제거, camera.yaml 기반 쿼터뷰 구현"
  - "GDD 크로스파일 불일치 8건 서버에서 수정 완료"
  - "엔티티 파이프라인 제안 보류 (현재 YAML 구조 유지)"
  - "모든 코드는 validate_all.py --skip-unity 통과 필수"
  - "Agent Loop 시스템으로 자율 소통 체계 구축 완료"
  - "GDD 권위(Authority) 기준 정립 (flow.yaml=키바인딩, ui.yaml=UI, 등)"
  - "Animator 12파라미터/11상태 확장 (animation.yaml 기반 콤보/대시/피격/스킬)"
  - "HitVFXManager Reflection 기반 Volume 설정 (URP 직접 참조 대신)"
  - "크리티컬 판정 임시 기준: Damage>=50 (서버 IsCritical 필드 추가 전)"
  - "SSAO는 Renderer Feature이므로 Volume이 아닌 URP Asset 설정 필요 → 추후"
  - "SceneFlowManager 선행 구현 — 모든 씬의 기반이므로 어떤 우선순위든 필요"
  - "S033 패킷 연동: SERVER_LIST(320-321), CHARACTER_CRUD(322-327), TUTORIAL(330-331)"
  - "S034 패킷 연동: NPC_INTERACT(332), NPC_DIALOG(333), ENHANCE(340-341)"
  - "S029 패킷 연동: GUILD(290-299), TRADE(300-307), MAIL(310-318)"
  - "Phase 2 TCP 브릿지 연동 테스트 20/20 PASS — 역사적 첫 실연동 성공"
  - "Phase 3 던전/PvP 매니저 구현 — Instance(170-174)/Match(180-184) 기존 패킷 활용"
  - "Hub v2.0 이벤트 기반 시스템 확인 — agent_loop.py에서 hub.py로 전환"
  - "Phase 3 브릿지 연동 25/25 ALL PASS — 서버 46/46 + 클라 25/25 = 71/71 PASS"
  - "GDD 심화 태스크 42개→55개→80개 확인 — 서버 구현 순서대로 클라 UI 대응"
  - "ENHANCE_RESULT(341) vs ENCHANT_RESULT(389) — 별도 시스템 (기본강화 vs 원소인챈트)"
  - "Phase 4 Batch 1: Crafting(380-389) + Gem(450-453) 클라 구현 완료"
  - "Phase 5: CashShop(474-489) + World(490-501) + Attendance(502-509) + Story(510-517) 클라 구현 완료"
  - "Batch 순서: B1=제작+보석(done), B2=거래소+화폐, B3=퀘스트+직업+내구도, B4=소셜+전장"
  - "Phase 6: 거래소(390-397) AuctionManager+AuctionUI 클라 구현 완료"
  - "S044 신규 4대 시스템: 비급(520-524)/현상금(530-537)/비경(540-544)/사제(550-560) — 모두 서버 블로킹"
  - "Phase 7: 비급&트라이포드(520-524) TripodManager+TripodUI 클라 구현 완료 — S046 응답"
  - "Phase 8: 현상금 시스템(530-537) BountyManager+BountyUI 클라 구현 완료 — S047 응답"
  - "Phase 9: 퀘스트 심화(400-405) DailyQuestManager+ReputationManager+DailyQuestUI+ReputationUI 클라 구현 완료 — S048 응답"
  - "Phase 10: 칭호/도감/2차전직(440-447) TitleManager+CollectionManager+JobChangeUI+TitleUI+CollectionUI 클라 구현 완료 — S049 응답"
  - "S047 BuildPacket→Build 버그 수정: BountyListReq/BountyAccept/BountyCompleteReq/BountyRankingReq 4건"
  - "validate_client.py에 UI/ 디렉토리 검색 추가 — JobChangeUI 등 싱글톤 UI 지원"
  - "Phase 11: 각인/초월(454-459) EngravingManager+EngravingUI+TranscendUI 클라 구현 완료 — S050 응답"
  - "S050 TASK 8 Enhancement: 각인 9종(원한/저주받은인형/예리한둔기/정면승부/아드레날린/정기흡수/중갑/전문가/각성) + 초월 5단계"
  - "TranscendUI는 매니저 없이 NetworkManager 직접 구독 (JobChangeUI/ContentUnlockUI 패턴)"
  - "Phase 12: 소셜 심화(410-422) FriendManager+BlockManager+PartyFinderManager+FriendUI+BlockUI+PartyFinderUI 클라 구현 완료 — S051 응답"
  - "소셜 UI 단축키: O=친구, Shift+B=차단, Y=파티찾기"
  - "S051 TASK 5: 친구 max100/차단 max100/파티찾기 5카테고리(dungeon/raid/field/quest/other) 4역할(tank/dps/support/any)"
  - "Phase 13: 내구도/수리/리롤(462-467) DurabilityManager+RepairUI+RerollUI 클라 구현 완료 — S052 응답"
  - "S052 TASK 9: 내구도 max100, 경고 20% 이하, broken=0 스탯50%감소, 수리비용=tier*(100-dur)*5, 리롤=5000골드+재감정서, 잠금=10000골드/줄"
  - "내구도 UI 단축키: F10=수리, F11=리롤"
  - "인벤토리 슬롯 인덱스(inv_slot u8) 기반 장비 참조 — 서버/클라 동일"
  - "Phase 14: 전장/길드전/PvP시즌(430-435) BattlegroundManager+GuildWarManager+BattlegroundUI+GuildWarUI 클라 구현 완료 — S053 응답"
  - "S053 TASK 6: 전장 2모드(거점점령/수레호위), 6v6, 15분, PvP 7티어(Bronze~Grandmaster), 길드전 10인+수정HP10000+30분"
  - "전장 UI 단축키: F7=전장패널, F8=길드전패널"
  - "PvP 시즌 레이팅 초기값 1000, 소프트리셋 공식: 1000+(rating-1000)*0.5"
  - "Phase 15: 보조화폐/토큰상점(468-473) CurrencyManager+CurrencyUI+TokenShopUI 클라 구현 완료 — S054 응답"
  - "S054 TASK 10: 화폐 5종(gold/silver/dungeon_token/pvp_token/guild_contribution) + 토큰 상점 3종(던전/PvP/길드)"
  - "화폐 UI 단축키: F9=화폐패널, Shift+F9=토큰상점"
  - "silver 초기값 5000, gold max=999999999, silver max=99999999, token max=99999"
  - "TOKEN_SHOP_BUY_RESULT 코드: 0=SUCCESS, 1=INSUFFICIENT_TOKEN, 2=INVALID_ITEM, 3=CURRENCY_AT_MAX, 4=INVENTORY_FULL"
  - "Phase 16: 비경 탐험(540-544) SecretRealmManager+SecretRealmPortalUI+SecretRealmUI 클라 구현 완료 — S055 응답"
  - "S055 TASK 17: 비경 5종(trial/wisdom/treasure/training/fortune) + 특수 4종(유령시련/뇌신수련/수정보물/운명정원) + unlock_lv20 + daily_limit3"
  - "비경 UI 단축키: F12=비경내부UI, 포탈알림=자동팝업(8초)"
  - "비경 등급: S/A/B/C, 위로보상 100골드, multiplier x100 포맷(100=1.0x)"
  - "Phase 17: 사제 시스템(550-560) MentorManager+MentorUI+MentorShopUI 클라 구현 완료 — S056 응답"
  - "S056 TASK 18: 사부 Lv40+/제자 Lv1-20/졸업 Lv30/제자max3/퀘스트주3/상점8종/EXP파티+30%솔로+10%/사부공유10%"
  - "사제 UI 단축키: Shift+M=사제패널, 기여도상점=패널 내 버튼"
  - "사제 요청 결과코드: 0=SENT/1=LV_LOW/2=LV_HIGH/3=HAS_MASTER/4=FULL/5=NOT_FOUND/6=SELF/7=ALREADY"
  - "졸업 보상: 사부 기여도500+골드10000, 제자 골드5000+EXP10000"
  - "S057: GDD 서버 TASK 100% COMPLETE — TASK 11~14 한방 완료 (142/142 ALL PASS)"
  - "S057 검증: StoryUI 이벤트 바인딩 4건 수정 (OnDialogWithChoices→OnDialogReceived 등)"
  - "S057 검증: EventManager+EventUI ProjectSetup/SceneValidator/interaction-map 누락 등록"
  - "S057 검증: interaction-map StoryManager 이벤트명 동기화"
  - "GDD 서버+클라 17개 TASK 전부 양쪽 DONE — 마일스톤 달성"
  - "이벤트 UI 단축키: Shift+E=이벤트패널, 스토리 UI: J=스토리진행패널 토글"
  - "S058: GDD 100% 마일스톤 서버 확인 — 서버 87핸들러+142테스트, 클라 40매니저+30UI+115테스트"
  - "다음 단계 대표님 결정 대기 (Q002): A통합테스트/B리팩토링/C밸런싱/D추가컨텐츠/E레이드UI/F엔티티파이프라인"

# ── 처리된 서버 메시지 ──
processed_messages:
  - "S001"
  - "S002"
  - "S003"
  - "S004"
  - "S005"
  - "S006"
  - "S007"
  - "S008"
  - "S009"
  - "S010"
  - "S011"
  - "S012"
  - "S013"
  - "S014"
  - "S015"
  - "S016"
  - "S017"
  - "S018"
  - "S019"
  - "S020"
  - "S021"
  - "S022"
  - "S023"
  - "S024"
  - "S025"
  - "S026"
  - "S027"
  - "S028"
  - "S029"
  - "S030"
  - "S031"
  - "S033"
  - "S034"
  - "S035"
  - "S038"
  - "S039"
  - "S040"
  - "S041"
  - "S042"
  - "S043"
  - "S044"
  - "S045"
  - "S046"
  - "S047"
  - "S048"
  - "S049"
  - "S050"
  - "S051"
  - "S052"
  - "S053"
  - "S054"
  - "S055"
  - "S056"
  - "S057"
  - "S058"

# ── 핵심 규칙 (매 세션 리마인드) ──
rules:
  - "Find/FindObjectOfType 런타임 사용 금지"
  - "모든 매니저는 싱글톤 패턴 + OnDestroy 이벤트 해제"
  - "Network 네임스페이스 클래스만 namespace Network 사용"
  - "작업 후 반드시 python validate_all.py --skip-unity 실행"
  - "Old Input System API만 사용 (New Input System 아님)"
  - "UI 스크립트는 UI/ 폴더, 매니저는 Managers/ 폴더"
